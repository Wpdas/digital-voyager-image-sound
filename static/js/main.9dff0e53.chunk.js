(this["webpackJsonpdigital-voyager-image-sound"]=this["webpackJsonpdigital-voyager-image-sound"]||[]).push([[0],{1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return s}));var a,r=8,i=44,c=1,o=.0078431373,u=44100,l={DECIMAL_NUMBER:0,ASCII_TEXT:1,BITMAP:2,BITMAP_1BIT_PP:3,BITMAP_2BITS_PP:4,BITMAP_4BITS_PP:5,BITMAP_8BITS_PP:6,VIDEO_4BITS_PP:7},s=[l.BITMAP,l.BITMAP_1BIT_PP,l.BITMAP_2BITS_PP,l.BITMAP_4BITS_PP,l.BITMAP_8BITS_PP];!function(e){e[e.BITMAP=l.BITMAP]="BITMAP",e[e.BITMAP_1BIT_PP=l.BITMAP_1BIT_PP]="BITMAP_1BIT_PP",e[e.BITMAP_2BITS_PP=l.BITMAP_2BITS_PP]="BITMAP_2BITS_PP",e[e.BITMAP_4BITS_PP=l.BITMAP_4BITS_PP]="BITMAP_4BITS_PP",e[e.BITMAP_8BITS_PP=l.BITMAP_8BITS_PP]="BITMAP_8BITS_PP"}(a||(a={}))},12:function(e,t,n){"use strict";t.a=function(e){return parseInt(e,2)}},127:function(e,t,n){e.exports=n(172)},132:function(e,t,n){},14:function(e,t,n){"use strict";var a=n(10);t.a=function e(t,n){var r=this;Object(a.a)(this,e),this.additionalParams=[],this.getHeaderBytes=function(){return[r.typeId].concat(r.additionalParams)},this.getHeaderTypeId=function(){return r.typeId},this.addBytes=function(e){r.additionalParams=r.additionalParams.concat(e)},this.typeId=t,null!=n&&this.additionalParams.concat(n)}},172:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),c=n.n(i),o=(n(132),n(30)),u=function(e){var t=Math.floor(e/60/60),n=Math.floor(e/60)-60*t,a=e%60;return"".concat(n.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"))},l=n(45),s={icon:"cube",text:"v".concat(l.version),currentTime:"00:00",duration:"00:00",setText:function(){return new Error("setText should be defined")},setIcon:function(){return new Error("setIcon should be defined")},setTime:function(){return new Error("setTime should be defined")}},d=Object(a.createContext)(s),f=function(e){var t=e.children,n=Object(a.useState)("cube"),i=Object(o.a)(n,2),c=i[0],s=i[1],f=Object(a.useState)("v".concat(l.version)),h=Object(o.a)(f,2),p=h[0],m=h[1],g=Object(a.useState)("00:00"),b=Object(o.a)(g,2),v=b[0],y=b[1],O=Object(a.useState)("00:00"),P=Object(o.a)(O,2),I=P[0],E=P[1],j={icon:c,text:p,currentTime:v,duration:I,setIcon:s,setText:m,setTime:function(e,t){y(u(e)),E(u(t))}};return r.a.createElement(d.Provider,{value:j},t)},h=d,p=n(15),m=n.n(p),g=n(25),b=n(21),v=n(38),y=n(11),O=n(67),P=n(28),I=n(1),E=n(39),j=n(69),T=n(5),B=n(6);function w(){var e=Object(T.a)(["\n  display: flex;\n  margin: 5px 16px 0 6px;\n  text-align: right;\n"]);return w=function(){return e},e}function x(){var e=Object(T.a)(["\n  display: flex;\n  margin: 5px 6px 0 16px;\n"]);return x=function(){return e},e}function _(){var e=Object(T.a)(["\n  display: flex;\n  justify-content: space-between;\n  background: #182128;\n  height: 25px;\n  width: 100%;\n"]);return _=function(){return e},e}var k=B.a.div(_()),A=B.a.div(x()),S=B.a.div(w());function C(){var e=Object(a.useContext)(h),t=e.icon,n=e.text,i=e.currentTime,c=e.duration;return r.a.createElement(k,null,r.a.createElement(A,null,r.a.createElement(b.e,{icon:t,iconSize:14,color:"#f5f8fa"}),r.a.createElement(b.d,{style:{color:"#f5f8fa",fontSize:12,margin:"0 0 0 12px"}},n)),r.a.createElement(S,null,r.a.createElement(b.e,{icon:"time",iconSize:14,color:"#f5f8fa"}),r.a.createElement(b.d,{style:{color:"#f5f8fa",fontSize:12,margin:"0 0 0 12px"}},i," / ",c)))}function D(){var e=Object(T.a)(["\n  display: none;\n"]);return D=function(){return e},e}var M=B.a.input.attrs((function(e){return{type:"file",accept:e.accept}}))(D());function F(){var e=Object(T.a)(["\n  display: none;\n"]);return F=function(){return e},e}var N=B.a.audio(F()),R=function(e){var t=e.audioRef,n=e.onTimeUpdate;return r.a.createElement(N,{ref:t,onDurationChange:n,onTimeUpdate:n})};function U(){var e=Object(T.a)(["\n  background: #000;\n  transform: rotate(180deg);\n  border-top: 2px solid #000;\n  max-width: 100%;\n\n  @media (max-width: 700px) {\n    flex-direction: column;\n    min-height: 100px;\n  }\n"]);return U=function(){return e},e}function H(){var e=Object(T.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  /* background: #182128; */\n  /* border-top: 1px #f5f8fa50 solid; */\n"]);return H=function(){return e},e}var L=B.a.div(H()),G=B.a.canvas(U()),z=function(e){var t=e.canvasRef,n=e.width,a=e.height;return r.a.createElement(L,null,r.a.createElement(G,{ref:t,width:n,height:a}))};function V(){var e=Object(T.a)(["\n  max-width: 58%;\n  background: #000000;\n\n  @media (max-width: 700px) {\n    flex-direction: column;\n    max-width: 90%;\n  }\n"]);return V=function(){return e},e}function W(){var e=Object(T.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n"]);return W=function(){return e},e}var J=B.a.div(W()),X=B.a.canvas(V()),q=function(e){var t=e.canvasRef,n=e.width,a=e.height;return r.a.createElement(J,null,r.a.createElement(X,{ref:t,width:n,height:a}))},Z=n(76),K={dark:"bp3-dark",light:""},Q=n(27),Y=n(37),$={imageFileOpen:!1,imageFile:null,soundFileOpen:!1,soundFile:null,fileTypeId:NaN,soundFileBuffer:null,bitmapHeader:null,isDecoding:!1,currentSoundFileDecoded:!1},ee=function(e){return Object(Y.a)({},e,{soundFileOpen:!1,imageFileOpen:!1,imageFile:null,currentSoundFileDecoded:!1})},te=function(e,t){var n=t.fileTypeId,a=t.soundFileBuffer,r=t.bitmapHeader,i=t.soundFile;return Object(Y.a)({},e,{fileTypeId:n,soundFileBuffer:a,bitmapHeader:r,soundFileOpen:!0,soundFile:i,imageFileOpen:!1,imageFile:null,currentSoundFileDecoded:!1})},ne=function(e,t){return Object(Y.a)({},e,{soundFileBuffer:null,soundFileOpen:!1,soundFile:null,imageFileOpen:!0,imageFile:t,currentSoundFileDecoded:!1})},ae=function(e){return Object(Y.a)({},e,{isDecoding:!0})},re=function(e){return Object(Y.a)({},e,{isDecoding:!1,currentSoundFileDecoded:!0})},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_ACTION":return ee(e);case"AUDIO_FILE_OPENED_ACTION":return te(e,t.payload);case"IMAGE_FILE_OPENED_ACTION":return ne(e,t.payload);case"DECODING_STARTED_ACTION":return ae(e);case"DECODING_FINISHED_ACTION":return re(e);default:return e}},ce=function(e,t,n,a){return{type:"AUDIO_FILE_OPENED_ACTION",payload:{fileTypeId:e,soundFileBuffer:t,bitmapHeader:n,soundFile:a}}};function oe(){var e=Object(T.a)(["\n  background: #000;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  min-width: 753px;\n  max-width: 96%;\n  min-height: 446px;\n  align-self: center;\n  border: 1px solid #000;\n\n  @media (max-width: 700px) {\n    min-width: unset;\n  }\n"]);return oe=function(){return e},e}function ue(){var e=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n  /* height: 92%; */\n  height: calc(100% - 25px);\n  justify-content: center;\n"]);return ue=function(){return e},e}function le(){var e=Object(T.a)(["\n  margin-top: 32vh;\n  user-select: none;\n\n  @media (max-width: 700px) {\n    margin-top: 25vh;\n  }\n"]);return le=function(){return e},e}function se(){var e=Object(T.a)(["\n  color: #f5f8fa;\n"]);return se=function(){return e},e}function de(){var e=Object(T.a)(["\n  color: #f5f8fa;\n"]);return de=function(){return e},e}function fe(){var e=Object(T.a)(["\n  margin-right: 12px;\n  cursor: pointer;\n"]);return fe=function(){return e},e}function he(){var e=Object(T.a)(["\n  user-select: none;\n"]);return he=function(){return e},e}function pe(){var e=Object(T.a)(["\n  flex: 1;\n"]);return pe=function(){return e},e}function me(){var e=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n"]);return me=function(){return e},e}var ge=B.a.div(me()),be=B.a.div(pe()),ve=B.a.div(he()),ye=B.a.img(fe()),Oe=B.a.div(de()),Pe=B.a.div(se()),Ie=B.a.div(le()),Ee=B.a.div(ue()),je=B.a.div(oe()),Te=n(49),Be=n.n(Te),we=r.a.memo((function(){var e=Object(a.useReducer)(ie,$),t=Object(o.a)(e,2),n=t[0],i=t[1],c=n.soundFileOpen,u=n.soundFile,l=n.imageFileOpen,s=n.imageFile,d=n.fileTypeId,f=n.soundFileBuffer,p=n.bitmapHeader,T=n.isDecoding,B=n.currentSoundFileDecoded,w=Object(a.useState)(!1),x=Object(o.a)(w,2),_=x[0],k=x[1],A=Object(a.useContext)(h),S=Object(a.useRef)(null),D=Object(a.useRef)(null),F=Object(a.useRef)(null),N=Object(a.useRef)(null),U=Object(a.useRef)(null);Object(a.useEffect)((function(){Object(E.b)((function(){i({type:"DECODING_FINISHED_ACTION"}),A.setIcon("tick"),A.setText("Decoding process completed!")}))}),[A]);var H=function(){l&&i({type:"RESET_ACTION"}),setTimeout((function(){var e;null===(e=N.current)||void 0===e||e.click()}),500)},L=function(){var e;null===(e=U.current)||void 0===e||e.click()},G=function(){var e=Object(g.a)(m.a.mark((function e(){var t,n,a,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===(t=N.current)||void 0===t?void 0:t.files,r=null,!n||!n.length){e.next=10;break}return e.next=5,Object(j.a)(n[0]);case 5:c=e.sent,a=Object(P.c)(c),-1!==I.f.indexOf(a)?(r=Object(P.a)(c),A.setIcon("tick"),A.setText("File opened and ready to be decoded")):(r={typeId:Q.d,width:Q.b,height:Q.a},A.setIcon("warning-sign"),A.setText("Unknown file type. This is not a properly encoded audio file!"),k(!0)),i(ce(a,c,r,n[0])),Object(E.a)();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){S.current&&D.current&&F.current&&u&&(Object(E.c)(S.current,D.current,F.current,u),i({type:"DECODING_STARTED_ACTION"}),A.setIcon("full-stacked-chart"),A.setText("Deconding..."))},W=function(){null!=f&&null!=d&&(Object(E.d)(),A.setIcon("tick"),A.setText("Done"))},J=function(){window.open("https://github.com/Wpdas/digital-voyager-image-sound","_blank")},X=r.a.createElement(b.e,{icon:"folder-open",iconSize:3*b.e.SIZE_LARGE,color:"rgba(167,182,194,.6)"}),Y=r.a.createElement(Oe,null,"No file opened"),ee=r.a.createElement(Pe,{style:{marginLeft:24,marginRight:24}},"Open a .wav file generated by this app and decode it to",r.a.createElement("br",null),"get the image stored on its samples or open an image file you want to encode as sound."),te=r.a.createElement(Ie,null,r.a.createElement(b.i,{icon:X,title:Y,description:ee})),ne=r.a.createElement(Ee,null,r.a.createElement(je,null,r.a.createElement(z,{canvasRef:S,width:null!=p&&(null===p||void 0===p?void 0:p.width)>=Q.c?null===p||void 0===p?void 0:p.width:Q.c,height:100}),r.a.createElement(q,{canvasRef:D,width:(null===p||void 0===p?void 0:p.width)||0,height:(null===p||void 0===p?void 0:p.height)||0}))),ae=r.a.createElement(ve,null,r.a.createElement(b.h,{className:K.dark},r.a.createElement(b.h.Group,{align:v.a.LEFT},r.a.createElement(ye,{src:Be.a,width:34,alt:"Go to repository page",onClick:J}),r.a.createElement(b.h.Heading,{onClick:J,style:{cursor:"pointer"}},"Digital Voyager Image Sound"),r.a.createElement(b.h.Divider,null),T?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(b.b,{className:"bp3-minimal",icon:"music",text:"Decode Sound File",onClick:H}),r.a.createElement(b.h.Divider,null),r.a.createElement(b.b,{className:"bp3-minimal",icon:"media",text:"Encode Image File",onClick:L}))),r.a.createElement(b.h.Group,{align:v.a.RIGHT},c&&!T?r.a.createElement(b.b,{className:"bp3-minimal",icon:"full-stacked-chart",text:"Play and Decode",onClick:V}):null,c&&!T&&B?r.a.createElement(b.b,{className:"bp3-minimal",icon:"archive",text:"Save Decoded File",onClick:W}):null))),re=r.a.createElement(ve,null,r.a.createElement(b.g,{icon:"music",text:"Decode Sound File",onClick:H}),r.a.createElement(b.g,{icon:"media",text:"Encode Image File",onClick:L}),c&&!T?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.f,null),r.a.createElement(b.g,{icon:"full-stacked-chart",text:"Play and Decode",onClick:V})):null,c&&!T&&B?r.a.createElement(b.g,{icon:"archive",text:"Save Decoded File",onClick:W}):null),oe=r.a.createElement(ve,null,r.a.createElement(b.h,{className:K.dark},r.a.createElement(b.h.Group,{align:v.a.LEFT},r.a.createElement(ye,{src:Be.a,width:34,alt:"Go to repository page",onClick:J}),r.a.createElement(b.h.Heading,{onClick:J},"Digital Voyager Image Sound")),r.a.createElement(b.h.Group,{align:v.a.RIGHT},r.a.createElement(b.j,{content:re,position:y.a.BOTTOM},r.a.createElement(b.b,{className:"bp3-minimal",icon:"menu"}))))),ue=O.isMobile?oe:ae;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:K.dark,confirmButtonText:"Ok",isOpen:_,onConfirm:function(){k(!1)}},r.a.createElement("p",null,"Unknown file type. This is not a properly encoded audio file, however, you're still can decode the information.")),r.a.createElement(ge,null,r.a.createElement(be,null,ue,c&&!l?ne:null,l&&!c&&s?r.a.createElement(Z.a,{file:s}):null,l||f||s?null:te,r.a.createElement(M,{ref:N,accept:".wav",onChange:G}),r.a.createElement(M,{ref:U,accept:"image/*",onChange:function(){var e,t=null===(e=U.current)||void 0===e?void 0:e.files;t&&t.length&&(i({type:"IMAGE_FILE_OPENED_ACTION",payload:t[0]}),A.setIcon("tick"),A.setText("Image file opened. Select the Bits depth you want to use to encode it."))}}),r.a.createElement(R,{audioRef:F,onTimeUpdate:function(e){null!=e&&A.setTime(Math.round(e.currentTarget.currentTime),Math.round(e.currentTarget.duration))}})),r.a.createElement(C,null)))}));var xe=function(){return r.a.createElement(f,null,r.a.createElement(we,null))};n(169),n(170),n(171);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(xe,null)),document.getElementById("root"))},18:function(e,t,n){"use strict";t.a=function(e,t){var n=e.toString(2),a=n.length,r="";if(null!=t){if(a>t)throw new Error("Bytes depth is not enough to store the passed numberValue.");r=Array(t-a).fill("0").join("")}else{var i=8*Math.ceil(a/8);r=Array(i-a).fill("0").join("")}return r+n}},19:function(e,t,n){"use strict";var a=n(18),r=n(12);t.a=function(e){var t=e.map((function(e){return Object(a.a)(e)}));return Object(r.a)(t.join(""))}},20:function(e,t,n){"use strict";var a=n(18),r=n(24),i=n(12),c=n(1);t.a=function(e,t){var n=Object(a.a)(e),o=Object(r.a)(n,c.a);if(null!=t){if(o.length>t)throw new Error("The value is too long to be stored");if(t-o.length<t)for(var u=0;u<t-o.length;u++)o.unshift("00000000")}return o.map((function(e){return Object(i.a)(e)}))}},22:function(e,t,n){"use strict";var a=n(10),r=n(13),i=function(){function e(t,n){Object(a.a)(this,e),this.finalBytes=t.getHeaderBytes().concat(n)}return Object(r.a)(e,[{key:"bytes",get:function(){return new Uint8Array(this.finalBytes)}}]),e}();t.a=i},23:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return g}));var a=n(5),r=n(6);function i(){var e=Object(a.a)(["\n  width: 100%;\n"]);return i=function(){return e},e}function c(){var e=Object(a.a)(["\n  text-align: center;\n  color: #f5f8fa;\n  background: #182128;\n  width: 20%;\n  margin-bottom: 0;\n  padding: 16px 0;\n"]);return c=function(){return e},e}function o(){var e=Object(a.a)(["\n  display: flex;\n  justify-content: space-evenly;\n"]);return o=function(){return e},e}function u(){var e=Object(a.a)(["\n  display: flex;\n  margin-bottom: 24px;\n"]);return u=function(){return e},e}function l(){var e=Object(a.a)(["\n  color: #f5f8fa;\n"]);return l=function(){return e},e}function s(){var e=Object(a.a)(["\n  display: flex;\n  margin-top: 18vh;\n  margin-left: auto;\n  margin-right: auto;\n  min-width: 800px;\n  max-width: 850px;\n  height: 400px;\n  flex-direction: column;\n\n  @media (max-width: 700px) {\n    min-width: unset;\n    margin-left: 12px;\n    margin-right: 12px;\n  }\n"]);return s=function(){return e},e}var d=r.a.div(s()),f=r.a.p(l()),h=r.a.div(u()),p=r.a.div(o()),m=r.a.p(c()),g=r.a.img(i())},24:function(e,t,n){"use strict";t.a=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0",i=[],c=e.length,o=0;o<c;o+=t){var u=n+e.slice(o,o+t);if(a&&u.length<t){var l=Array(t-u.length).fill(r).join("");i.push(u+l)}else i.push(u)}return i}},27:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o}));var a=n(1),r=753,i=753,c=520,o=a.g.BITMAP_8BITS_PP},28:function(e,t,n){"use strict";n.d(t,"c",(function(){return a.a})),n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return A}));var a=n(53),r=n(54),i=n(1),c=n(10),o=n(13),u=n(14),l=n(22),s=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].charCodeAt(0));return t},d=function(e){return e.map((function(e){return String.fromCharCode(e)})).join("")},f=function(){function e(){Object(c.a)(this,e),this.header=new u.a(i.g.ASCII_TEXT)}return Object(o.a)(e,[{key:"encode",value:function(e){var t=s(e);return new l.a(this.header,t)}},{key:"decode",value:function(e){if(e[0]!==this.header.getHeaderTypeId())throw new Error("This is not a audio file generated by ASCIIText loader.");var t=[];return e.slice(1).forEach((function(e){return t.push(e)})),d(t)}},{key:"getSampleData",value:function(e){return e.slice(i.d)}},{key:"decodeChunk",value:function(){}}]),e}(),h=n(55),p=n(56),m=n(26),g=n.n(m),b=n(24),v=n(18),y=n(12),O=function(e,t){var n=Array(t).fill("1").join(""),a=Object(y.a)(n),r=100*e/255;return Math.round(r*a/100)},P=n(20),I=function(e,t,n){var a=g.a.decode(e),r=a.width,c=a.height,o=Object(P.a)(r,2),u=Object(P.a)(c,2);t.addBytes(o),t.addBytes(u);for(var s=a.getData(),d=[],f="",h=3;h<s.length;h+=4)f+=Object(v.a)(O(s.readUInt8(h),n),n);return Object(b.a)(f,i.a,"",!0,"0").forEach((function(e){d.push(Object(y.a)(e))})),new l.a(t,d)},E=n(34),j=n(29),T=function(){function e(){Object(c.a)(this,e),this.BPP=2,this.header=new u.a(i.g.BITMAP_2BITS_PP),this.position=0,this.groupPosition=0}return Object(o.a)(e,[{key:"encode",value:function(e){return I(e,this.header,this.BPP)}},{key:"decode",value:function(e){if(e[0]!==this.header.getHeaderTypeId())throw new Error("This is not a audio file generated by Bitmap4bitspp loader.");return Object(E.a)(e,this.BPP)}},{key:"getSampleData",value:function(e){var t=i.d+4;return e.slice(t)}},{key:"decodeChunk",value:function(e){for(var t=e.data,n=e.imageData,a=e.bytesChunk,r=0;r<a;r++){for(var i=n[this.position],c=Object(b.a)(Object(v.a)(i),this.BPP),o=0;o<c.length;o++){var u=Object(j.a)(Object(y.a)(c[o]),this.BPP);t[4*this.groupPosition]=u,t[4*this.groupPosition+1]=u,t[4*this.groupPosition+2]=u,t[4*this.groupPosition+3]=255,this.groupPosition++}this.position++}}}]),e}(),B=function(){function e(){Object(c.a)(this,e),this.BPP=4,this.header=new u.a(i.g.BITMAP_4BITS_PP),this.position=0,this.groupPosition=0}return Object(o.a)(e,[{key:"encode",value:function(e){return I(e,this.header,this.BPP)}},{key:"decode",value:function(e){if(e[0]!==this.header.getHeaderTypeId())throw new Error("This is not a audio file generated by Bitmap4bitspp loader.");return Object(E.a)(e,this.BPP)}},{key:"getSampleData",value:function(e){var t=i.d+4;return e.slice(t)}},{key:"decodeChunk",value:function(e){for(var t=e.data,n=e.imageData,a=e.bytesChunk,r=0;r<a;r++){for(var i=n[this.position],c=Object(b.a)(Object(v.a)(i),this.BPP),o=0;o<c.length;o++){var u=Object(j.a)(Object(y.a)(c[o]),this.BPP);t[4*this.groupPosition]=u,t[4*this.groupPosition+1]=u,t[4*this.groupPosition+2]=u,t[4*this.groupPosition+3]=255,this.groupPosition++}this.position++}}}]),e}(),w=function(){function e(){Object(c.a)(this,e),this.BPP=1,this.header=new u.a(i.g.BITMAP_1BIT_PP),this.position=0,this.groupPosition=0}return Object(o.a)(e,[{key:"encode",value:function(e){return I(e,this.header,this.BPP)}},{key:"decode",value:function(e){if(e[0]!==this.header.getHeaderTypeId())throw new Error("This is not a audio file generated by Bitmap1bitpp loader.");return Object(E.a)(e,this.BPP)}},{key:"getSampleData",value:function(e){var t=i.d+4;return e.slice(t)}},{key:"decodeChunk",value:function(e){for(var t=e.data,n=e.imageData,a=e.bytesChunk,r=0;r<a;r++){for(var i=n[this.position],c=Object(b.a)(Object(v.a)(i),this.BPP),o=0;o<c.length;o++){var u=Object(j.a)(Object(y.a)(c[o]),this.BPP);t[4*this.groupPosition]=u,t[4*this.groupPosition+1]=u,t[4*this.groupPosition+2]=u,t[4*this.groupPosition+3]=255,this.groupPosition++}this.position++}}}]),e}(),x=n(19),_=function(){function e(){Object(c.a)(this,e),this.header=new u.a(i.g.DECIMAL_NUMBER)}return Object(o.a)(e,[{key:"encode",value:function(e){var t=Object(P.a)(e);return new l.a(this.header,t)}},{key:"decode",value:function(e){if(e[0]!==this.header.getHeaderTypeId())throw new Error("This is not a audio file generated by ASCIIText loader.");var t=[];return e.slice(1).forEach((function(e){return t.push(e)})),Object(x.a)(t)}},{key:"getSampleData",value:function(e){return e.slice(i.d)}},{key:"decodeChunk",value:function(){}}]),e}();function k(e){switch(e){case i.g.DECIMAL_NUMBER:return new _;case i.g.ASCII_TEXT:return new f;case i.g.BITMAP:return new h.a;case i.g.BITMAP_1BIT_PP:return new w;case i.g.BITMAP_2BITS_PP:return new T;case i.g.BITMAP_4BITS_PP:return new B;case i.g.BITMAP_8BITS_PP:return new p.a;default:return null}}var A=function(e,t,n,a){var r=Object(P.a)(n,2),i=Object(P.a)(a,2),c=[t,r[0],r[1],i[0],i[1]];return e.forEach((function(e){c.push(e)})),new Uint8Array(c)}},29:function(e,t,n){"use strict";var a=n(12);t.a=function(e,t){var n=Array(t).fill("1").join("");return 255/Object(a.a)(n)*e}},34:function(e,t,n){"use strict";(function(e){var a=n(26),r=n.n(a),i=n(1),c=n(24),o=n(18),u=n(12),l=n(29),s=n(19);t.a=function(t,n){var a,d,f,h=i.d+4,p="";if(t.length>=h){d=Object(s.a)([t[1],t[2]]),f=Object(s.a)([t[3],t[4]]),t.slice(h).forEach((function(e){return p+=Object(o.a)(e,i.a)}));for(var m=Object(c.a)(p,n),g=[],b=0;b<m.length;b++){var v=Object(l.a)(Object(u.a)(m[b]),n);g.push(0,v,v,v)}var y={data:e.from(g),width:d,height:f};a=r.a.encode(y).data}else a=e.alloc(0);return a}}).call(this,n(17).Buffer)},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="image/bmp",r="audio/wav";t.c=function(e,t,n){var a=document.createElement("a"),r=new Blob([new Uint8Array(e,e.byteOffset,e.length)],{type:n});a.href=window.URL.createObjectURL(r),a.download=t,a.click()}},39:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return P})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return S}));var a,r,i,c,o,u,l,s,d=n(15),f=n.n(d),h=n(25),p=n(1),m=n(28),g=n(68),b=n(36),v=n(27),y=function(){},O=function(e){y=e},P=function(){null!=a&&a.clearRect(0,0,r,i)};function I(e){a=e.getContext("2d")||new CanvasRenderingContext2D,r=e.width,i=e.height,a.clearRect(0,0,r,i),c=a.getImageData(0,0,r,i),o=c.data}function E(e,t){var n=x.frequencyBinCount,r=new Uint8Array(n),i=e.width,u=e.height,d=e.getContext("2d")||new CanvasRenderingContext2D;null!=s&&cancelAnimationFrame(s),t.play(),function f(){s=requestAnimationFrame(f),x.getByteTimeDomainData(r),function(e,t){if(null!=l){var n=100*e/t,r=Math.ceil(n*l.length/100),i=r-j;j=r,isNaN(i)||(null!=T&&null!=T.decodeChunk&&T.decodeChunk({totalSamplesSize:l.length,data:o,imageData:l,bytesChunk:i}),a.putImageData(c,0,0))}}(t.currentTime,t.duration),d.fillStyle="#000",d.fillRect(0,0,i,u),d.lineWidth=1.4,d.strokeStyle="rgb(255, 255, 255)",d.beginPath();for(var h=1*i/n,p=0,m=0;m<n;m++){var g=r[m]/128*u/2;0===m?d.moveTo(p,g):d.lineTo(p,g),p+=h}d.lineTo(e.width,e.height/2),d.stroke()}()}var j=0;var T,B,w,x,_=new FileReader,k=!1,A=function(){var t=Object(h.a)(f.a.mark((function t(n,a,r,i){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:k||(k=!0,B=new AudioContext,w=B.createMediaElementSource(r),x=B.createAnalyser(),w.connect(x),x.connect(B.destination),x.fftSize=2048,r.onended=function(){y(),setTimeout((function(){cancelAnimationFrame(s),s=NaN}),200)},_.onload=function(){var t=(u=Object(g.a)(e.from(_.result)))[0];if(-1!==p.f.indexOf(t))null!=(T=Object(m.b)(t))&&(l=T.getSampleData(u));else if(null!=(T=Object(m.b)(v.d))){var i=Object(m.d)(u,p.g.BITMAP,v.b,v.a);l=T.getSampleData(i)}I(a),E(n,r)}),_.readAsArrayBuffer(i),r.src=URL.createObjectURL(i);case 3:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=T&&-1!==p.f.indexOf(T.header.getHeaderTypeId())&&Object(b.c)(T.decode(u),"image",b.a);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}).call(this,n(17).Buffer)},45:function(e){e.exports=JSON.parse('{"name":"digital-voyager-image-sound","homepage":"http://Wpdas.github.io/digital-voyager-image-sound","version":"0.1.1","private":true,"devDependencies":{"@types/bmp-js":"^0.1.0","@types/styled-components":"^5.1.0","concurrently":"^5.2.0","electron":"^8.2.4","gh-pages":"^2.2.0","nodemon":"^2.0.3","react":"^16.13.1","react-dom":"^16.13.1"},"dependencies":{"@blueprintjs/core":"^3.26.0","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","@types/jest":"^24.0.0","@types/node":"^12.0.0","@types/react":"^16.9.0","@types/react-dom":"^16.9.0","bmp-js":"^0.1.0","jimp":"^0.10.3","react-device-detect":"^1.12.1","react-scripts":"3.4.1","styled-components":"^5.1.0","typescript":"~3.7.2"},"scripts":{"start:react-only":"react-scripts start","build:react-only":"react-scripts build","start:react":"BROWSER=none react-scripts start","build:react":"PUBLIC_URL=./ react-scripts build","build:electron":"tsc -p electron/tsconfig.json","start:electron":"npm run build:electron && electron ./build/electron.js","dev:electron":"concurrently \'yarn start:react\' \'nodemon --watch electron/* --exec \\"yarn start:electron\\"\'","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build:react-only","deploy":"gh-pages -d build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},49:function(e,t,n){e.exports=n.p+"static/media/app_icon.ecf81f5f.svg"},53:function(e,t,n){"use strict";(function(e){var a=n(1);t.a=function(t){var n=e.alloc(1);return t.copy(n,0,a.e,a.e+1),n.readUInt8(0)}}).call(this,n(17).Buffer)},54:function(e,t,n){"use strict";(function(e){var a=n(1),r=n(19);t.a=function(t){var n=e.alloc(5);return t.copy(n,0,a.e,a.e+5),{typeId:n.readUInt8(0),width:Object(r.a)([n.readUInt8(1),n.readUInt8(2)]),height:Object(r.a)([n.readUInt8(3),n.readUInt8(4)])}}}).call(this,n(17).Buffer)},55:function(e,t,n){"use strict";(function(e){var a=n(10),r=n(13),i=n(26),c=n.n(i),o=n(14),u=n(22),l=n(20),s=n(19),d=n(1),f=function(){function t(){Object(a.a)(this,t),this.header=new o.a(d.g.BITMAP),this.position=0}return Object(r.a)(t,[{key:"encode",value:function(e){var t=c.a.decode(e),n=t.width,a=t.height,r=Object(l.a)(n,2),i=Object(l.a)(a,2);this.header.addBytes(r),this.header.addBytes(i);for(var o=[],s=[],d=[],f=t.getData(),h=3;h<f.length;h+=4)d.push(f.readUInt8(h-2)),s.push(f.readUInt8(h-1)),o.push(f.readUInt8(h));return new u.a(this.header,d.concat(s,o))}},{key:"decode",value:function(t){if(t[0]!==this.header.getHeaderTypeId())throw new Error("This is not a audio file generated by Bitmap24bitsTrueColor loader.");var n,a,r,i=d.d+4;if(t.length>=i){a=Object(s.a)([t[1],t[2]]),r=Object(s.a)([t[3],t[4]]);for(var o=[],u=t.slice(i),l=u.length/3,f=0;f<l;f++)o.push(0,u[f],u[f+l],u[f+2*l]);var h={data:e.from(o),width:a,height:r};n=c.a.encode(h).data}else n=e.alloc(0);return n}},{key:"getSampleData",value:function(e){var t=d.d+4;return e.slice(t)}},{key:"decodeChunk",value:function(e){for(var t=e.totalSamplesSize,n=e.data,a=e.imageData,r=e.bytesChunk,i=t/3,c=0;c<r;c++)this.position<=i?(n[4*this.position+2]=a[this.position],n[4*this.position+3]=255):this.position>i&&this.position<=2*i?n[4*this.position+1-4*i]=a[this.position]:this.position>2*i&&this.position<=3*i&&(n[4*this.position-2*i*4]=a[this.position]),this.position++}}]),t}();t.a=f}).call(this,n(17).Buffer)},56:function(e,t,n){"use strict";(function(e){var a=n(10),r=n(13),i=n(26),c=n.n(i),o=n(14),u=n(22),l=n(1),s=n(20),d=n(19),f=function(){function t(){Object(a.a)(this,t),this.header=new o.a(l.g.BITMAP_8BITS_PP),this.position=0}return Object(r.a)(t,[{key:"encode",value:function(e){var t=c.a.decode(e),n=t.width,a=t.height,r=Object(s.a)(n,2),i=Object(s.a)(a,2);this.header.addBytes(r),this.header.addBytes(i);for(var o=t.getData(),l=[],d=3;d<o.length;d+=4)l.push(o.readUInt8(d));return new u.a(this.header,l)}},{key:"decode",value:function(t){if(t[0]!==this.header.getHeaderTypeId())throw new Error("This is not a audio file generated by Bitmap8bitspp loader.");var n,a,r,i=l.d+4;if(t.length>=i){a=Object(d.a)([t[1],t[2]]),r=Object(d.a)([t[3],t[4]]);var o=[];t.slice(i).forEach((function(e){o.push(0,e,e,e)}));var u={data:e.from(o),width:a,height:r};n=c.a.encode(u).data}else n=e.alloc(0);return n}},{key:"getSampleData",value:function(e){var t=l.d+4;return e.slice(t)}},{key:"decodeChunk",value:function(e){for(var t=e.data,n=e.imageData,a=e.bytesChunk,r=0;r<a;r++)t[4*this.position]=n[this.position],t[4*this.position+1]=n[this.position],t[4*this.position+2]=n[this.position],t[4*this.position+3]=255,this.position++}}]),t}();t.a=f}).call(this,n(17).Buffer)},68:function(e,t,n){"use strict";(function(e){var a=n(1);t.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n?a.e+a.d:a.e,i=e.alloc(t.byteLength-r);return t.copy(i,0,r),Uint8Array.from(i)}}).call(this,n(17).Buffer)},69:function(e,t,n){"use strict";(function(e){var n=new FileReader;t.a=function(t){return new Promise((function(a){n.onload=function(){var t=n.result;a(e.from(t))},n.readAsArrayBuffer(t)}))}}).call(this,n(17).Buffer)},76:function(e,t,n){"use strict";(function(e){var a=n(15),r=n.n(a),i=n(25),c=n(0),o=n.n(c),u=n(21),l=n(28),s=n(1),d=n(77),f=n(79),h=n(80),p=n(36),m=n(83),g=n.n(m),b=n(23),v=new FileReader;t.a=function(t){var n=t.file,a=function(t,a){v.onload=Object(i.a)(r.a.mark((function i(){var c,o,u,s;return r.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(h.a)(e.from(v.result));case 2:if(c=r.sent,null==(o=Object(l.b)(t))){r.next=10;break}return u=o.encode(c),r.next=8,Object(d.a)(Object(f.a)(u.bytes));case 8:s=r.sent,Object(p.c)(s,"".concat(n.name,"_").concat(a,".wav"),p.b);case 10:case"end":return r.stop()}}),i)}))),v.readAsArrayBuffer(n)};return o.a.createElement(b.a,null,o.a.createElement(b.b,null,o.a.createElement(u.e,{icon:"media",iconSize:24,color:"rgba(167,182,194,.6)"}),o.a.createElement(u.c,{style:{color:"#f5f8fa",marginLeft:16}},n.name)),o.a.createElement(b.e,null,o.a.createElement(u.e,{icon:"label",iconSize:14,color:"#f5f8fa"})," "," "," Bpp means bits per pixel"),o.a.createElement(b.e,null,"Below you can see an example of how the image will look like after be decoded. Fewer bits means less file size but this impact directly to the way the colours will be stored and read."),o.a.createElement(b.e,null,"Click over Encode button according to the preferences you want:"),o.a.createElement(b.d,null,o.a.createElement(b.c,null,"1 Bpp"),o.a.createElement(b.c,null,"2 Bpp"),o.a.createElement(b.c,null,"4 Bpp"),o.a.createElement(b.c,null,"8 Bpp"),o.a.createElement(b.c,null,"24 Bpp (RGB color)")),o.a.createElement(b.f,{src:g.a}),o.a.createElement(u.h,{className:"bp3-dark"},o.a.createElement(u.h.Group,{style:{float:"none",justifyContent:"space-between"}},o.a.createElement(u.b,{className:"bp3-minimal",icon:"document",text:"Encode 1 Bpp",onClick:function(){a(s.g.BITMAP_1BIT_PP,"1bpp")}}),o.a.createElement(u.h.Divider,null),o.a.createElement(u.b,{className:"bp3-minimal",icon:"document",text:"Encode 2 Bpp",onClick:function(){a(s.g.BITMAP_2BITS_PP,"2bpp")}}),o.a.createElement(u.h.Divider,null),o.a.createElement(u.b,{className:"bp3-minimal",icon:"document",text:"Encode 4 Bpp",onClick:function(){a(s.g.BITMAP_4BITS_PP,"4bpp")}}),o.a.createElement(u.h.Divider,null),o.a.createElement(u.b,{className:"bp3-minimal",icon:"document",text:"Encode 8 Bpp",onClick:function(){a(s.g.BITMAP_8BITS_PP,"8bpp")}}),o.a.createElement(u.h.Divider,null),o.a.createElement(u.b,{className:"bp3-minimal",icon:"document",text:"Encode 24 Bpp",onClick:function(){a(s.g.BITMAP,"24bppRGBColor")}}))))}}).call(this,n(17).Buffer)},77:function(e,t,n){"use strict";(function(e){var a=n(15),r=n.n(a),i=n(25),c=n(78),o=n.n(c),u=n(1),l=function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=new Float32Array(n.length),n.forEach((function(e,t){a[t]=u.b*e-1})),u.c,i={sampleRate:u.c,channelData:[a]},t.next=6,o.a.encode(i,{bitDepth:8});case 6:return c=t.sent,t.abrupt("return",e.from(c));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.a=l}).call(this,n(17).Buffer)},79:function(e,t,n){"use strict";t.a=function(e){var t=[];return e.forEach((function(e){t.push(e)})),t}},80:function(e,t,n){"use strict";(function(e){var a=n(15),r=n.n(a),i=n(25),c=n(81),o=n.n(c),u=n(82),l=n.n(u),s=function(){var t=Object(i.a)(r.a.mark((function t(n){var a,i,c,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.read(n);case 2:for(a=t.sent,i=[],c=a.bitmap.data,u=3;u<c.length;u+=4)i.push(c.readUInt8(u),c.readUInt8(u-1),c.readUInt8(u-2),c.readUInt8(u-3));return t.abrupt("return",l.a.encode({data:e.from(i),width:a.bitmap.width,height:a.bitmap.height}).data);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();t.a=s}).call(this,n(17).Buffer)},83:function(e,t,n){e.exports=n.p+"static/media/image_preview.d0db360c.jpg"}},[[127,1,2]]]);
//# sourceMappingURL=main.9dff0e53.chunk.js.map